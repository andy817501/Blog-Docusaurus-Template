---
id: MODBUS
title: MODBUS协议详解
---
    Modbus协议是一种应用层的报文传输协议。分为RTU,ASCII,TCP
## MODbus RTU
### 存储区划分与范围
`存储区`：输出线圈(0),输入线圈(1)，输入寄存器(3)，输出寄存器(4)

线圈是1布尔的最小单位 

寄存器是16位的最小单位

`存储区范围`：5位与6位  对应标准地址与扩展地址  

Y XXXX

输出线圈0
00001-09999

输入线圈 1
10001-19999

输出寄存器 4
40001-49999

输入存器3
30001-39999

### 读写操作

`功能码`

读输出线圈 01

读输入线圈02

读输出寄存器 03

读输入寄存器 04

写单个输出线圈 05

写单个输出寄存器 06
 
写多个输出线圈 15

写多个输出寄存器 16

### 报文格式
`报文格式`：从站地址(设备编号) （1 byte）+功能码(1 byte)+数据 (N byte)+效验(2 byte)

对于读取来说:

从站地址 (设备编号)       找谁?

功能码                   干嘛

数据                     具体干嘛的细节

校验                     验证


对于写入来说:

从站地址 (设备编号)     找谁?

功能码                 干嘛

数据                   具体干嘛的细节(更多，多了个写入的具体数值)

校验                   验证



